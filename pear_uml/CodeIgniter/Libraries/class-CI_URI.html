<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><!--Generated by PHP_UML on Mon, 27 Aug 2012 09:34:36 +0200--><head><title>CodeIgniter\Libraries\CI_URI</title><link rel="stylesheet" type="text/css" media="all" href="../../style.css"></head><body><div id="navigation"><div id="banner"><ul class="sections"><li><a href="../../overview-summary.html" title="Summary of all packages">Overview</a></li><li><a href="package-summary.html" title="Summary of CodeIgniter\Libraries">Package</a></li><li class="active">Class</li><li><a href="../../index-all.html">Index</a></li></ul><ul class="navigFrame"><a href="../../index.html?CodeIgniter/Libraries/class-CI_URI.html" class="navigFrameElem" target="_top">FRAMES</a> <a href="class-CI_URI.html" class="navigFrameElem" target="_top">NO FRAMES</a></ul></div><ul class="siblingSections"><li><a href="class-CI_Xmlrpcs.html">Prev Class</a></li><li class="last"><a href="class-CI_Lang.html">Next Class</a></li></ul></div><div id="content"><div class="classSummary"><h3 id="entityPackage">CodeIgniter\Libraries</h3><h1 id="entityName">Class&nbsp;CI_URI</h1><hr>public&nbsp;class&nbsp;<strong>CI_URI</strong><br><p>URI Class <br>Parses URIs and determines routing<div></div></p><hr></div><div id="fieldSummary"><h2>Field Summary</h2><table border="1" class="tableSummary"><tr><td align="right" width="1%" valign="top"><span class="code">&nbsp;<a href="../../datatype-array.html" class="linkType">array</a> </span></td><td valign="top"><span class="code"><a href="#%24keyval" class="linkSummary">$keyval</a></span></td></tr><tr><td align="right" width="1%" valign="top"><span class="code">&nbsp;<a href="../../datatype-string.html" class="linkType">string</a> </span></td><td valign="top"><span class="code"><a href="#%24uri_string" class="linkSummary">$uri_string</a></span></td></tr><tr><td align="right" width="1%" valign="top"><span class="code">&nbsp;<a href="../../datatype-array.html" class="linkType">array</a> </span></td><td valign="top"><span class="code"><a href="#%24segments" class="linkSummary">$segments</a></span></td></tr><tr><td align="right" width="1%" valign="top"><span class="code">&nbsp;<a href="../../datatype-array.html" class="linkType">array</a> </span></td><td valign="top"><span class="code"><a href="#%24rsegments" class="linkSummary">$rsegments</a></span></td></tr></table></div><div id="methodSummary"><h2>Method Summary</h2><table border="1" class="tableSummary"><tr><td align="right" width="1%" valign="top"><span class="code">&nbsp;<a href="../../datatype-void.html" class="linkType">void</a> </span></td><td valign="top"><span class="code"><a href="#__construct()" class="linkSummary">__construct</a>()</span></td></tr><tr><td align="right" width="1%" valign="top"><span class="code">&nbsp;<a href="../../datatype-string.html" class="linkType">string</a> </span></td><td valign="top"><span class="code"><a href="#_fetch_uri_string()" class="linkSummary">_fetch_uri_string</a>()</span></td></tr><tr><td align="right" width="1%" valign="top"><span class="code">&nbsp;<a href="../../datatype-string.html" class="linkType">string</a> </span></td><td valign="top"><span class="code"><a href="#_set_uri_string(mixed%20%24str)" class="linkSummary">_set_uri_string</a>(<a href="../../datatype-mixed.html" class="linkType">mixed</a> $str)</span></td></tr><tr><td align="right" width="1%" valign="top"><span class="code">&nbsp;private&nbsp;<a href="../../datatype-string.html" class="linkType">string</a> </span></td><td valign="top"><span class="code"><a href="#_detect_uri()" class="linkSummary">_detect_uri</a>()</span></td></tr><tr><td align="right" width="1%" valign="top"><span class="code">&nbsp;private&nbsp;<a href="../../datatype-string.html" class="linkType">string</a> </span></td><td valign="top"><span class="code"><a href="#_parse_cli_args()" class="linkSummary">_parse_cli_args</a>()</span></td></tr><tr><td align="right" width="1%" valign="top"><span class="code">&nbsp;<a href="../../datatype-string.html" class="linkType">string</a> </span></td><td valign="top"><span class="code"><a href="#_filter_uri(mixed%20%24str)" class="linkSummary">_filter_uri</a>(<a href="../../datatype-mixed.html" class="linkType">mixed</a> $str)</span></td></tr><tr><td align="right" width="1%" valign="top"><span class="code">&nbsp;<a href="../../datatype-void.html" class="linkType">void</a> </span></td><td valign="top"><span class="code"><a href="#_remove_url_suffix()" class="linkSummary">_remove_url_suffix</a>()</span></td></tr><tr><td align="right" width="1%" valign="top"><span class="code">&nbsp;<a href="../../datatype-void.html" class="linkType">void</a> </span></td><td valign="top"><span class="code"><a href="#_explode_segments()" class="linkSummary">_explode_segments</a>()</span></td></tr><tr><td align="right" width="1%" valign="top"><span class="code">&nbsp;<a href="../../datatype-void.html" class="linkType">void</a> </span></td><td valign="top"><span class="code"><a href="#_reindex_segments()" class="linkSummary">_reindex_segments</a>()</span></td></tr><tr><td align="right" width="1%" valign="top"><span class="code">&nbsp;<a href="../../datatype-string.html" class="linkType">string</a> </span></td><td valign="top"><span class="code"><a href="#segment(mixed%20%24n,%C2%A0mixed%20%24no_result=FALSE)" class="linkSummary">segment</a>(<a href="../../datatype-mixed.html" class="linkType">mixed</a> $n,&nbsp;<a href="../../datatype-mixed.html" class="linkType">mixed</a> $no_result=FALSE)</span></td></tr><tr><td align="right" width="1%" valign="top"><span class="code">&nbsp;<a href="../../datatype-string.html" class="linkType">string</a> </span></td><td valign="top"><span class="code"><a href="#rsegment(mixed%20%24n,%C2%A0mixed%20%24no_result=FALSE)" class="linkSummary">rsegment</a>(<a href="../../datatype-mixed.html" class="linkType">mixed</a> $n,&nbsp;<a href="../../datatype-mixed.html" class="linkType">mixed</a> $no_result=FALSE)</span></td></tr><tr><td align="right" width="1%" valign="top"><span class="code">&nbsp;<a href="../../datatype-array.html" class="linkType">array</a> </span></td><td valign="top"><span class="code"><a href="#uri_to_assoc(int%20%24n=3,%C2%A0array%20%24default=array())" class="linkSummary">uri_to_assoc</a>(<a href="../../datatype-int.html" class="linkType">int</a> $n=3,&nbsp;<a href="../../datatype-array.html" class="linkType">array</a> $default=array())</span></td></tr><tr><td align="right" width="1%" valign="top"><span class="code">&nbsp;<a href="../../datatype-array.html" class="linkType">array</a> </span></td><td valign="top"><span class="code"><a href="#ruri_to_assoc(int%20%24n=3,%C2%A0array%20%24default=array())" class="linkSummary">ruri_to_assoc</a>(<a href="../../datatype-int.html" class="linkType">int</a> $n=3,&nbsp;<a href="../../datatype-array.html" class="linkType">array</a> $default=array())</span></td></tr><tr><td align="right" width="1%" valign="top"><span class="code">&nbsp;<a href="../../datatype-array.html" class="linkType">array</a> </span></td><td valign="top"><span class="code"><a href="#_uri_to_assoc(int%20%24n=3,%C2%A0array%20%24default=array(),%C2%A0string%20%24which='segment')" class="linkSummary">_uri_to_assoc</a>(<a href="../../datatype-int.html" class="linkType">int</a> $n=3,&nbsp;<a href="../../datatype-array.html" class="linkType">array</a> $default=array(),&nbsp;<a href="../../datatype-string.html" class="linkType">string</a> $which='segment')</span></td></tr><tr><td align="right" width="1%" valign="top"><span class="code">&nbsp;<a href="../../datatype-array.html" class="linkType">array</a> </span></td><td valign="top"><span class="code"><a href="#assoc_to_uri(mixed%20%24array)" class="linkSummary">assoc_to_uri</a>(<a href="../../datatype-mixed.html" class="linkType">mixed</a> $array)</span></td></tr><tr><td align="right" width="1%" valign="top"><span class="code">&nbsp;<a href="../../datatype-string.html" class="linkType">string</a> </span></td><td valign="top"><span class="code"><a href="#slash_segment(mixed%20%24n,%C2%A0string%20%24where='trailing')" class="linkSummary">slash_segment</a>(<a href="../../datatype-mixed.html" class="linkType">mixed</a> $n,&nbsp;<a href="../../datatype-string.html" class="linkType">string</a> $where='trailing')</span></td></tr><tr><td align="right" width="1%" valign="top"><span class="code">&nbsp;<a href="../../datatype-string.html" class="linkType">string</a> </span></td><td valign="top"><span class="code"><a href="#slash_rsegment(mixed%20%24n,%C2%A0string%20%24where='trailing')" class="linkSummary">slash_rsegment</a>(<a href="../../datatype-mixed.html" class="linkType">mixed</a> $n,&nbsp;<a href="../../datatype-string.html" class="linkType">string</a> $where='trailing')</span></td></tr><tr><td align="right" width="1%" valign="top"><span class="code">&nbsp;<a href="../../datatype-string.html" class="linkType">string</a> </span></td><td valign="top"><span class="code"><a href="#_slash_segment(mixed%20%24n,%C2%A0string%20%24where='trailing',%C2%A0string%20%24which='segment')" class="linkSummary">_slash_segment</a>(<a href="../../datatype-mixed.html" class="linkType">mixed</a> $n,&nbsp;<a href="../../datatype-string.html" class="linkType">string</a> $where='trailing',&nbsp;<a href="../../datatype-string.html" class="linkType">string</a> $which='segment')</span></td></tr><tr><td align="right" width="1%" valign="top"><span class="code">&nbsp;<a href="../../datatype-array.html" class="linkType">array</a> </span></td><td valign="top"><span class="code"><a href="#segment_array()" class="linkSummary">segment_array</a>()</span></td></tr><tr><td align="right" width="1%" valign="top"><span class="code">&nbsp;<a href="../../datatype-array.html" class="linkType">array</a> </span></td><td valign="top"><span class="code"><a href="#rsegment_array()" class="linkSummary">rsegment_array</a>()</span></td></tr><tr><td align="right" width="1%" valign="top"><span class="code">&nbsp;<a href="../../datatype-integer.html" class="linkType">integer</a> </span></td><td valign="top"><span class="code"><a href="#total_segments()" class="linkSummary">total_segments</a>()</span></td></tr><tr><td align="right" width="1%" valign="top"><span class="code">&nbsp;<a href="../../datatype-integer.html" class="linkType">integer</a> </span></td><td valign="top"><span class="code"><a href="#total_rsegments()" class="linkSummary">total_rsegments</a>()</span></td></tr><tr><td align="right" width="1%" valign="top"><span class="code">&nbsp;<a href="../../datatype-string.html" class="linkType">string</a> </span></td><td valign="top"><span class="code"><a href="#uri_string()" class="linkSummary">uri_string</a>()</span></td></tr><tr><td align="right" width="1%" valign="top"><span class="code">&nbsp;<a href="../../datatype-string.html" class="linkType">string</a> </span></td><td valign="top"><span class="code"><a href="#ruri_string()" class="linkSummary">ruri_string</a>()</span></td></tr></table></div><div id="fieldDetail"><h2>Field Detail</h2><div class="detail" id="$keyval"><h4>$keyval</h4><div class="detailContent"><span class="code">public&nbsp;<a href="../../datatype-array.html" class="linkType">array</a> <b> $keyval</b> = array()</span><p>List of cached uri segments<div></div></p></div></div><hr><div class="detail" id="$uri_string"><h4>$uri_string</h4><div class="detailContent"><span class="code">public&nbsp;<a href="../../datatype-string.html" class="linkType">string</a> <b> $uri_string</b></span><p>Current uri string<div></div></p></div></div><hr><div class="detail" id="$segments"><h4>$segments</h4><div class="detailContent"><span class="code">public&nbsp;<a href="../../datatype-array.html" class="linkType">array</a> <b> $segments</b> = array()</span><p>List of uri segments<div></div></p></div></div><hr><div class="detail" id="$rsegments"><h4>$rsegments</h4><div class="detailContent"><span class="code">public&nbsp;<a href="../../datatype-array.html" class="linkType">array</a> <b> $rsegments</b> = array()</span><p>Re-indexed list of uri segments Starts at 1 instead of 0<div></div></p></div></div><hr></div><div id="methodDetail"><h2>Method Detail</h2><div class="detail" id="__construct()"><h4>__construct</h4><div class="detailContent"><span class="code">public&nbsp;<a href="../../datatype-void.html" class="linkType">void</a> <b> __construct</b>()</span><p><p>Constructor <br>Simply globalizes the $RTR object.  The front loads the Router class early on so it's not available normally as other classes are.</p></p></div></div><div class="detail" id="_fetch_uri_string()"><h4>_fetch_uri_string</h4><div class="detailContent"><span class="code">public&nbsp;<a href="../../datatype-string.html" class="linkType">string</a> <b> _fetch_uri_string</b>()</span><p><p>Get the URI String</p></p></div></div><div class="detail" id="_set_uri_string(mixed $str)"><h4>_set_uri_string</h4><div class="detailContent"><span class="code">public&nbsp;<a href="../../datatype-string.html" class="linkType">string</a> <b> _set_uri_string</b>(<a href="../../datatype-mixed.html" class="linkType">mixed</a> $str)</span><p><p>Set the URI String</p></p><h3 class="titleSmallList">Parameters</h3><div class="smallList"><span class="code">$str</span> - <br></div></div></div><div class="detail" id="_detect_uri()"><h4>_detect_uri</h4><div class="detailContent"><span class="code">private&nbsp;<a href="../../datatype-string.html" class="linkType">string</a> <b> _detect_uri</b>()</span><p><p>Detects the URI <br>This function will detect the URI automatically and fix the query string if necessary.</p></p></div></div><div class="detail" id="_parse_cli_args()"><h4>_parse_cli_args</h4><div class="detailContent"><span class="code">private&nbsp;<a href="../../datatype-string.html" class="linkType">string</a> <b> _parse_cli_args</b>()</span><p><p>Parse cli arguments <br>Take each command line argument and assume it is a URI segment.</p></p></div></div><div class="detail" id="_filter_uri(mixed $str)"><h4>_filter_uri</h4><div class="detailContent"><span class="code">public&nbsp;<a href="../../datatype-string.html" class="linkType">string</a> <b> _filter_uri</b>(<a href="../../datatype-mixed.html" class="linkType">mixed</a> $str)</span><p><p>Filter segments for malicious characters</p></p><h3 class="titleSmallList">Parameters</h3><div class="smallList"><span class="code">$str</span> - <br></div></div></div><div class="detail" id="_remove_url_suffix()"><h4>_remove_url_suffix</h4><div class="detailContent"><span class="code">public&nbsp;<a href="../../datatype-void.html" class="linkType">void</a> <b> _remove_url_suffix</b>()</span><p><p>Remove the suffix from the URL if needed</p></p></div></div><div class="detail" id="_explode_segments()"><h4>_explode_segments</h4><div class="detailContent"><span class="code">public&nbsp;<a href="../../datatype-void.html" class="linkType">void</a> <b> _explode_segments</b>()</span><p><p>Explode the URI Segments. The individual segments will be stored in the $this-&gt;segments array.</p></p></div></div><div class="detail" id="_reindex_segments()"><h4>_reindex_segments</h4><div class="detailContent"><span class="code">public&nbsp;<a href="../../datatype-void.html" class="linkType">void</a> <b> _reindex_segments</b>()</span><p><p>Re-index Segments <br>This function re-indexes the $this-&gt;segment array so that it starts at 1 rather than 0.  Doing so makes it simpler to use functions like $this-&gt;uri-&gt;segment(n) since there is a 1:1 relationship between the segment array and the actual segments.</p></p></div></div><div class="detail" id="segment(mixed $n,&nbsp;mixed $no_result=FALSE)"><h4>segment</h4><div class="detailContent"><span class="code">public&nbsp;<a href="../../datatype-string.html" class="linkType">string</a> <b> segment</b>(<a href="../../datatype-mixed.html" class="linkType">mixed</a> $n,&nbsp;<a href="../../datatype-mixed.html" class="linkType">mixed</a> $no_result=FALSE)</span><p><p>Fetch a URI Segment <br>This function returns the URI segment based on the number provided.</p></p><h3 class="titleSmallList">Parameters</h3><div class="smallList"><span class="code">$n</span> - <br><span class="code">$no_result</span> - <br></div></div></div><div class="detail" id="rsegment(mixed $n,&nbsp;mixed $no_result=FALSE)"><h4>rsegment</h4><div class="detailContent"><span class="code">public&nbsp;<a href="../../datatype-string.html" class="linkType">string</a> <b> rsegment</b>(<a href="../../datatype-mixed.html" class="linkType">mixed</a> $n,&nbsp;<a href="../../datatype-mixed.html" class="linkType">mixed</a> $no_result=FALSE)</span><p><p>Fetch a URI "routed" Segment <br>This function returns the re-routed URI segment (assuming routing rules are used) based on the number provided.  If there is no routing this function returns the same result as $this-&gt;segment()</p></p><h3 class="titleSmallList">Parameters</h3><div class="smallList"><span class="code">$n</span> - <br><span class="code">$no_result</span> - <br></div></div></div><div class="detail" id="uri_to_assoc(int $n=3,&nbsp;array $default=array())"><h4>uri_to_assoc</h4><div class="detailContent"><span class="code">public&nbsp;<a href="../../datatype-array.html" class="linkType">array</a> <b> uri_to_assoc</b>(<a href="../../datatype-int.html" class="linkType">int</a> $n=3,&nbsp;<a href="../../datatype-array.html" class="linkType">array</a> $default=array())</span><p><p>Generate a key value pair from the URI string <br>This function generates and associative array of URI data starting at the supplied segment. For example, if this is your URI:<br><br>example.com/user/search/name/joe/location/UK/gender/male <br>You can use this function to generate an array with this prototype:<br><br>array ( name =&gt; joe location =&gt; UK gender =&gt; male )</p></p><h3 class="titleSmallList">Parameters</h3><div class="smallList"><span class="code">$n</span> - <br><span class="code">$default</span> - <br></div></div></div><div class="detail" id="ruri_to_assoc(int $n=3,&nbsp;array $default=array())"><h4>ruri_to_assoc</h4><div class="detailContent"><span class="code">public&nbsp;<a href="../../datatype-array.html" class="linkType">array</a> <b> ruri_to_assoc</b>(<a href="../../datatype-int.html" class="linkType">int</a> $n=3,&nbsp;<a href="../../datatype-array.html" class="linkType">array</a> $default=array())</span><p><p>Identical to above only it uses the re-routed segment array</p></p><h3 class="titleSmallList">Parameters</h3><div class="smallList"><span class="code">$n</span> - <br><span class="code">$default</span> - <br></div></div></div><div class="detail" id="_uri_to_assoc(int $n=3,&nbsp;array $default=array(),&nbsp;string $which='segment')"><h4>_uri_to_assoc</h4><div class="detailContent"><span class="code">public&nbsp;<a href="../../datatype-array.html" class="linkType">array</a> <b> _uri_to_assoc</b>(<a href="../../datatype-int.html" class="linkType">int</a> $n=3,&nbsp;<a href="../../datatype-array.html" class="linkType">array</a> $default=array(),&nbsp;<a href="../../datatype-string.html" class="linkType">string</a> $which='segment')</span><p><p>Generate a key value pair from the URI string or Re-routed URI string</p></p><h3 class="titleSmallList">Parameters</h3><div class="smallList"><span class="code">$n</span> - <br><span class="code">$default</span> - <br><span class="code">$which</span> - <br></div></div></div><div class="detail" id="assoc_to_uri(mixed $array)"><h4>assoc_to_uri</h4><div class="detailContent"><span class="code">public&nbsp;<a href="../../datatype-array.html" class="linkType">array</a> <b> assoc_to_uri</b>(<a href="../../datatype-mixed.html" class="linkType">mixed</a> $array)</span><p><p>Generate a URI string from an associative array</p></p><h3 class="titleSmallList">Parameters</h3><div class="smallList"><span class="code">$array</span> - <br></div></div></div><div class="detail" id="slash_segment(mixed $n,&nbsp;string $where='trailing')"><h4>slash_segment</h4><div class="detailContent"><span class="code">public&nbsp;<a href="../../datatype-string.html" class="linkType">string</a> <b> slash_segment</b>(<a href="../../datatype-mixed.html" class="linkType">mixed</a> $n,&nbsp;<a href="../../datatype-string.html" class="linkType">string</a> $where='trailing')</span><p><p>Fetch a URI Segment and add a trailing slash</p></p><h3 class="titleSmallList">Parameters</h3><div class="smallList"><span class="code">$n</span> - <br><span class="code">$where</span> - <br></div></div></div><div class="detail" id="slash_rsegment(mixed $n,&nbsp;string $where='trailing')"><h4>slash_rsegment</h4><div class="detailContent"><span class="code">public&nbsp;<a href="../../datatype-string.html" class="linkType">string</a> <b> slash_rsegment</b>(<a href="../../datatype-mixed.html" class="linkType">mixed</a> $n,&nbsp;<a href="../../datatype-string.html" class="linkType">string</a> $where='trailing')</span><p><p>Fetch a URI Segment and add a trailing slash</p></p><h3 class="titleSmallList">Parameters</h3><div class="smallList"><span class="code">$n</span> - <br><span class="code">$where</span> - <br></div></div></div><div class="detail" id="_slash_segment(mixed $n,&nbsp;string $where='trailing',&nbsp;string $which='segment')"><h4>_slash_segment</h4><div class="detailContent"><span class="code">public&nbsp;<a href="../../datatype-string.html" class="linkType">string</a> <b> _slash_segment</b>(<a href="../../datatype-mixed.html" class="linkType">mixed</a> $n,&nbsp;<a href="../../datatype-string.html" class="linkType">string</a> $where='trailing',&nbsp;<a href="../../datatype-string.html" class="linkType">string</a> $which='segment')</span><p><p>Fetch a URI Segment and add a trailing slash - helper function</p></p><h3 class="titleSmallList">Parameters</h3><div class="smallList"><span class="code">$n</span> - <br><span class="code">$where</span> - <br><span class="code">$which</span> - <br></div></div></div><div class="detail" id="segment_array()"><h4>segment_array</h4><div class="detailContent"><span class="code">public&nbsp;<a href="../../datatype-array.html" class="linkType">array</a> <b> segment_array</b>()</span><p><p>Segment Array</p></p></div></div><div class="detail" id="rsegment_array()"><h4>rsegment_array</h4><div class="detailContent"><span class="code">public&nbsp;<a href="../../datatype-array.html" class="linkType">array</a> <b> rsegment_array</b>()</span><p><p>Routed Segment Array</p></p></div></div><div class="detail" id="total_segments()"><h4>total_segments</h4><div class="detailContent"><span class="code">public&nbsp;<a href="../../datatype-integer.html" class="linkType">integer</a> <b> total_segments</b>()</span><p><p>Total number of segments</p></p></div></div><div class="detail" id="total_rsegments()"><h4>total_rsegments</h4><div class="detailContent"><span class="code">public&nbsp;<a href="../../datatype-integer.html" class="linkType">integer</a> <b> total_rsegments</b>()</span><p><p>Total number of routed segments</p></p></div></div><div class="detail" id="uri_string()"><h4>uri_string</h4><div class="detailContent"><span class="code">public&nbsp;<a href="../../datatype-string.html" class="linkType">string</a> <b> uri_string</b>()</span><p><p>Fetch the entire URI string</p></p></div></div><div class="detail" id="ruri_string()"><h4>ruri_string</h4><div class="detailContent"><span class="code">public&nbsp;<a href="../../datatype-string.html" class="linkType">string</a> <b> ruri_string</b>()</span><p><p>Fetch the entire Re-routed URI string</p></p></div></div></div></div></body></html>
